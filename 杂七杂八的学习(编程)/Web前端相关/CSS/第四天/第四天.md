- 为什么需要浮动
- 浮动的排列特性
- 三种最常见的布局方式
- 为什么需要清除浮动
- 至少两种清除浮动的方法
- 能够实现基本切图

[toc]

## 1. 浮动(float)

### 1.1 传统网页布局的三种方式

网页布局的本质——用CSS来摆放盒子，把盒子摆放到相应位置

CSS提供了三种传统布局方式（也就是盒子如何进行顺序排列）

- 普通流（标准流
- 浮动
- 定位

这三种布局方式否是用来摆放盒子的。把盒子摆放到合适的位置，布局自然就完成了。



### 1.2 标准流/普通流/文档流

标签按照默认规定好的默认方式进行排列

1. 块级元素独占一行，从上到下排序

   div, hr, p, h1~h6, ul, ol, dl, form, table

2. 行内元素按照从左到右排列，碰到父元素边缘则自动换行

   span, a, i, em

以上都是标准流布局，我们前面学习的就是标准流，**标准流是最基本的布局方式**

### 1.3 为什么需要浮动

标准流无法实现如下效果

1. 如何让多个块级盒子水平排列成一行
2. 如何实现两个盒子的左右对齐

网页布局第一准则：**多个块级元素纵向排列找标准流，横向排列找浮动**



### 1.4 什么是浮动

浮动属性用来创建浮动框，将其移动到一边，直到左边缘或则和右边缘触及**包含块**或**另一个浮动框**的边缘。

语法：`选择器{float:属性值;`}`

| 属性值 | 描述                   |
| ------ | ---------------------- |
| none   | 元素不浮动（**默认值** |
| left   | 元素向**左**浮动       |
| right  | 元素向**右**浮动       |

### 1.5 浮动的特性

加了浮动之后的元素，会具有很多特性，是需要我们掌握的

1. **浮动会脱离标准流**
2. 浮动元素会一行内显示，并且元素顶部对齐
3. 浮动元素具有行内块元素的特性

#### 1.5.1 脱标

1. **脱离标准普通流的控制**(浮)，并且**移动到指定位置**(动)，简称脱标
2. 浮动的盒子**不再保留原先的位置**

#### 1.5.2 顶端对齐

如果多个盒子设置了浮动，那么他们会按照属性值**一行内显示并且<u>顶端</u>对齐排列**

浮动的元素是相互贴靠在一起的（不会有缝隙），如果父级宽度装不下这些浮动的盒子，多出来的盒子会另起一行对齐

#### 1.5.3 具有行内块元素特性

任何元素都可以浮动，不管原先是什么模式的元素，添加浮动之后具有行内块元素相似的特性。

```css
 span,div {
            float: left;
            width: 200px;
            height: 100px;
            background-color: pink;
        }
```

原本的span元素是行内元素，无法直接设置宽高的。之前的方法是改成**行内块元素**或者**块元素**，现在加了浮动后直接实现**行内块元素的效果**

- 如果块级盒子没有设置宽度，**默认宽度就和父亲一样宽**。但是添加浮动之后，他的**大小根据内容来决定**
- 浮动的盒子中间是没有缝隙的，是紧挨在一起的
- 行内元素同理

### 1.6 浮动元素经常和标准流父级元素搭配使用

为了约束浮动元素的位置，我们网页布局一般采用的策略是：

**先用标准流的父级元素排列上下位置，之后内部子元素采取浮动排列左右的位置，符合网页布局第一准则。**

否者的话，浮动总是以浏览器为标准进行浮动

- 行内元素同理

## 2. 常见网页布局

![image-20201016105657262](C:\Users\DAN\AppData\Roaming\Typora\typora-user-images\image-20201016105657262.png)

![image-20201016105736424](C:\Users\DAN\AppData\Roaming\Typora\typora-user-images\image-20201016105736424.png)

### 2.1 浮动布局注意点

1. 浮动和标准流的父盒子搭配使用

   先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置

2. 一个元素浮动了，理论上其余的兄弟元素也要浮动，防止引起挤压的问题。**浮动的盒子只会影响浮动盒子后面的标准流，不会影响前面的标准流**

因为浮动的元素不占有标准流的位置，因此不设置高度后，有可能标准流的高度就变成了0

### 3. 清除浮动

#### 3.1 为什么要清除浮动

由于父级盒子在很多情况下，不方便给高度，但是子盒子浮动又不占有位置。最后父级盒子高度为0的时候，就会影响下面的标准流盒子。**产生排版的问题**

#### 3.2 清除浮动本质是什么

- 本质是清除浮动元素造成的影响
- 如果父盒子本身有高度，就不用清除浮动
- **清除浮动之后，父级就会根据浮动的子盒子自动检测高度，父级有了高度，就不会影响下面的标准流了**

语法: `选择器{clear:属性值;}`

| 属性  | 描述                                       |
| ----- | ------------------------------------------ |
| left  | 不允许左侧有浮动元素（清除左侧浮动的影响） |
| right | 不允许右侧有浮动元素(清除右侧浮动的影响)   |
| both  | 同时清除左右两侧浮动的影响                 |

实际工作中几乎只用clear，both

**清除浮动的策略是：闭合浮动，只让浮动在父盒子内部影响，不影响父盒子外面的其他盒子**

#### 3.3 清除浮动方法

1. **额外标签法**，也成为隔墙法，是W3C推荐的做法
2. **给父级添加overflow属性**
3. **父级添加after伪元素**
4. **父级添加双伪元素**

#### 3.3.1 额外标签（隔墙）法

额外标签法指的是在浮动元素末尾添加一个空的标签，例如

```css
.clear {
            clear: both;
        }
<div style="clear:both"></div>
```

- 优点：通俗易懂，书写方便
- 缺点：添加许多没有意义的标签，结构化较差

**注意：新添加的这个空的标签必须是一个块级元素**



#### 3.3.2 父级添加overflow

通过给父级添加overflow属性，将其属性值设置为`hidden, auto, scroll`。

通常使用hidden或者auto

```css
 .box {
     		overflow:hidden;
            width: 800px;
            border: 1px solid blue;
            margin: 0 auto;
        }
        
        .damao {
            float: left;
            width: 300px;
            height: 200px;
            background-color: purple;
        }
        
        .ermao {
            float: left;
            width: 200px;
            height: 200px;
            background-color: pink;
        }
<div class="box">
        <div class="damao">大毛</div>
        <div class="ermao">二毛</div>
</div>
```



- 优点：代码简洁ei
- 缺点：无法显示溢出的部分

#### 3.3.3 :after伪元素

:after方式是额外标签法的升级版，也就是给父元素添加

```css
.clearfix:after {
            /* content必须有 */
            content: "";
            /* 转换成块元素，因为默认是行内元素 */
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }
        
        .clearfix {
            /* IE6、7 专有 */
            *zoom: 1;
        }
        
```

添加after后，会新增一个盒子，不过盒子是行内元素，要转换成块级元素，类似额外标签法/隔墙法

**优点是不用再手动生成一个新的标签，让代码的结构更简单**

### 3.3 双伪元素清除浮动

也是给父元素添加的，前后各插入一个盒子，把口给封死

```css
		.clearfix:before,
        .clearfix:after {
            content: "";
            display: table;
        }

        .clearfix:after {
            clear: both;
        }

        .clearfix {
            *zoom: 1;
        }

<div class="box clearfix">
        <div class="damao">大毛</div>
        <div class="ermao">二毛</div>
    </div>
```

- 代码稍微简洁
- 但还是需要照顾低版本浏览器

### 3.4 清除浮动总结

1. 父级没高度
2. 子盒子浮动
3. 影响下面布局

出现这些情况后，就该清除浮动了

| 清除浮动             | 优点               | 缺点                             |
| -------------------- | ------------------ | -------------------------------- |
| 额外标签法（隔墙法） | 通俗易懂，书写方便 | 添加许多无意义的标签，结构化较差 |
| 父级overflow:hidden  | 书写简单           | 溢出的内容会被隐藏               |
| 父级after伪元素      | 结构语义化正确     | 需要考虑兼容性                   |
| 父级双伪元素         | 结构语义化正确     | 需要考虑兼容性                   |

## 5. 学成在线

### 5.1 CSS属性书写顺序

建议按照如下的顺序来写

1. 布局定位属性：display/position/float/clear/visibility/overflow(建议display第一个写)
2. 自身属性：width/height/margin/padding/border/background
3. 文本属性：color/font/text-decoration/text-align/vertical-align/white-space/break-word
4. 其他属性：content/cursor/border-radius/box-shadow/text-shadow/background-gradient

### 5.2 页面布局整体思路

为了提高网页制作的效率，布局的时候有如下的整体思路

1. 必须确定页面的版心（可视区），我们通过测量可以知道
2. 分析页面中的行模块，以及每个行模块中的列模块，也就是页面布局的第一准则
3. 一行中的列模块经常浮动布局，先确定每个列的大小，之后确定列的位置，页面布局第二准则
4. 制作HTML，遵循先有结构，后有样式的原则。结构永远最重要
5. 所以，先理清楚布局结构，再写代码，是最重要的



### 5.3 确定版心

这个页面的版心是1200像素，每个版心都要水平居中对齐，可以定义版心为公共类。谁想成为版心，调用这个代码就行

```css
.w {
    width:1200px;
    margin:auto;
}
```

### 5.6 头部制作

实际开发的时候，我们不会直接用链接a，儿是li包含链接(li+a)的做法。

1. li+a语义更加清晰，一看就是有条理的列表型内容
2. 如果直接用a，搜索引擎容易辨别为有 **堆砌关键字**的嫌疑（容易被搜索引擎降低权重，搜索不到）

**注意**：

1. 想让导航栏在一行显示的话，要给li加浮动，因为li是块级元素，要在一行显示
2. 这个nav导航栏可以不给宽度，将来可以继续添加其他文字
3. 因为导航栏里面文字不一样多，所以最好给链接a左右padding撑开盒子，而不是指定宽度

**search搜索框**

一个search大盒子里面包含两个表单，分别是文本框和button按钮

**button按钮**

button默认有一个边框，需要手动去除

search和button是行内块元素，中间有一个小的缝隙

### 5.7 banner制作

![image-20201018134937581](C:\Users\DAN\AppData\Roaming\Typora\typora-user-images\image-20201018134937581.png)

- 1号盒子是通栏的大盒子banner，不给宽度，给高度，给一个蓝色的背景
- 2号盒子是版心，要水平居中对齐
- 3号盒子版心内，左对齐subnav测导航栏
- 4号盒子版心内，右对齐course课程

![image-20201018141708736](C:\Users\DAN\AppData\Roaming\Typora\typora-user-images\image-20201018141708736.png)

###  5. 8 精品推荐模块

- 大盒子水平居中goods精品，注意有个盒子阴影
- 1号盒子是标题H3左侧浮动
- 2号盒子里面放链接左侧浮动，goods-item距离可以控制链接的左右外边距（注意行内元素只给左右外边距）
- 3号盒子右浮动mod修改

### 5.9 精品推荐大模块

- 1号为最大的盒子，box版心水平居中对齐
- 2号盒子为上面部分，box-hd 里面左侧标题H3左浮动，右侧链接a右浮动
- 3号盒子为底下部分，box-bd--里面是无序列表，有10哥小li组成
- 小li外边距的问题，给box-hd宽度为1215就可以一行装5个li

### 5.1 底部模块

![image-20201018155912754](C:\Users\DAN\AppData\Roaming\Typora\typora-user-images\image-20201018155912754.png)

- 1号盒子是通栏大盒子，底部footer给高度，底色是白色
- 2号盒子版心水平居中
- 3号盒子版权copyright左对齐
- 4号盒子连接组links右对齐